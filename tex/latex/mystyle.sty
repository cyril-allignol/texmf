\ProvidesPackage{mystyle}

\RequirePackage{scrhack}

\KOMAoption{fontsize}{11pt}
\KOMAoption{captions}{nooneline}
\KOMAoption{captions}{tableheading}
\KOMAoption{bibliography}{totoc}

\makeatletter
\@ifclassloaded{scrbook}{%
  \KOMAoption{chapterentrydots}{true}%
  % \KOMAoption{chapterprefix}{true}
  \KOMAoption{titlepage}{firstiscover}%
  \renewcommand*{\chapterformat}{%
    \mbox{\chapappifchapterprefix{\nobreakspace}\thechapter%
      \autodot\IfUsePrefixLine{}{\enskip}{\color{lightgray}|\enskip}}}%
}{}
\makeatother
\KOMAoption{numbers}{noendperiod}
\KOMAoption{parskip}{half}

\RequirePackage{mypackages}

\RequirePackageWithOptions{kpfonts}

\KOMAoption{DIV}{calc}

\makeatletter
\@ifclassloaded{scrbook}{%
  \RequirePackage[within = chapter]{newfloat}%
}{%
  \RequirePackage{newfloat}%
}
\makeatother
\addtokomafont{caption}{\small}
\addtokomafont{captionlabel}{\sffamily\bfseries}
\renewcommand*{\tableformat}{\tablename~\thetable}
\renewcommand*{\figureformat}{\figurename~\thefigure}

\RequirePackage{mdframed}
\DeclareFloatingEnvironment[fileext = frm]{framed}
\newenvironment{info}[1]{
  \begin{framed}[tb]
    \begin{mdframed}[linewidth = 0pt,
      roundcorner = 10pt, backgroundcolor = gray!30]
      % \minisec{#1}
      \textbf{\large #1}

      \medskip
    }{\end{mdframed}\end{framed}}

\setkomafont{labelinglabel}{\sffamily\bfseries}

\endinput